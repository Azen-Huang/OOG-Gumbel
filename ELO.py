from sympy import *
import numpy as np
'''
#16 8
win_rate = [70, 60, 55, 65, 37.5, 62.5, 52.5, 47.5, 57.5, 75, 57.5, 62.5, 40, 70, 35, 82.5, 67.5, 65, 45, 57.5]
'''

'''
#16 16
win_rate = [90, 57.5, 62.5, 75, 42.5, 40, 65, 62.5, 60, 80, 47.5, 65, 50, 55, 62.5, 42.5, 50, 42.5, 55, 55]
'''

'''
#64 200
win_rate = [92.5, 60, 60, 82.5, 52.5, 57.5, 62.5, 72.5, 87.5, 57.5, 65, 55, 52.5, 55, 70, 55, 50, 45, 57.5, 45]
'''
'''
#32 200
win_rate = [82.5, 47.5, 62.5, 55, 75, 77.5, 75, 85, 77.5, 60, 57.5, 67.5, 57.5, 67.5, 75, 57.5, 37.5, 57.5, 42.5, 30]
'''

'''
#80 200
win_rate = [95, 70, 57.5, 87.5, 42.5, 92.5, 55, 50, 70, 60, 60, 57.5, 50, 55, 40, 62.5, 42.5, 55, 42.5]
'''

'''
#katago 8
win_rate = [42.5, 70, 50, 37.5, 57.5, 42.5, 50, 45, 47.5, 50, 60, 57.5, 52.5, 60, 52.5, 45, 47.5, 50, 50, 45]

'''

'''
#gumbel n=300 k = 100
win_rate = [99, 87.5, 80, 57.5, 57.5, 77.5]
'''
# ELO = [1772.9, 1987.8, 2058.2, 2110.7, 2237.6, 2290.1, 2417.1, 2608.00000000000, 2660.5, 2571.8, 2624.3, 2571.8, 2424.6]
# ELO = np.array(ELO)
# ELO = ELO - 200
# print(ELO)

iter = []
for i in range(1, 9):
    iter.append(i * 25)
print(iter)
win_rate = [70, 65.5, 65, 57.5, 57.5, 55, 52.5, 65]
RB = 500
RA = symbols('RA')
ELO = [500]
for EA in win_rate:
    EA = round(EA * 0.01, 3)
    newRB = solve(1 / (1 + 10 ** ((RB - RA)/400)) - EA, RA)
    #EA = 1 / (1 + 10 ** ((RB - RA)/400))
    ELO.append(round(newRB[0], 1))
    RB = round(newRB[0], 1)
print(ELO)

